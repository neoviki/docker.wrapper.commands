echo
if [ -z $1 ]; then
    echo "[ usage ] docker_build <docker_file_name> <docker_image_name>"
    echo
    exit 1
fi

if [ -z $2 ]; then
    echo "[ usage ] docker_build <docker_file_name> <docker_image_name>"
    echo
    exit 1
fi

DOCKER_FILE="$1"
DOCKER_IMAGE="$2"
DOCKER_IMAGE_FILE="${DOCKER_IMAGE}.diso"

docker image rm  $DOCKER_IMAGE
echo "[ status ] Building Custom Docker Image from ( $DOCKER_FILE )"
docker build - < $DOCKER_FILE  -t $DOCKER_IMAGE
docker save -o $DOCKER_IMAGE_FILE $DOCKER_IMAGE
docker image rm  $DOCKER_IMAGE

echo "[ status ] New docker image is created by name ( $DOCKER_IMAGE_FILE )"

echo
