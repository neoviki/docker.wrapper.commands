echo
if [ -z $1 ]; then
    echo "[ usage ] dk_container_export <container_name> <output_file.dova>"
    echo
    exit 1
fi

if [ -z $2 ]; then
    echo "[ usage ] dk_container_export <container_name> <output_file.dova>"
    echo
    exit 1
fi


CONTAINER_NAME="$1"
DOCKER_OVA_FILE_NAME="$2"
TAR_IMAGE_NAME="${DOCKER_OVA_FILE_NAME}.tar"

rm -rf $TAR_IMAGE_NAME

docker export $CONTAINER_NAME > $TAR_IMAGE_NAME
mv $TAR_IMAGE_NAME $DOCKER_OVA_FILE_NAME

if [ $? -eq 0 ]; then
    echo "[ success ] docker container exported successfully ( Output File : $DOCKER_OVA_FILE_NAME )"
	echo
    exit 0
else
    echo "[ error ] unable to export container ( container_name = $CONTAINER_NAME )"
	echo
    exit 1
fi


